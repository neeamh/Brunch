<%- include("partials/head.ejs") %>

<html>
<body class="home">
  <div class="container">
    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <% firstThree.forEach((post, index) => { %>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="<%= index %>" class="<%= index === 0 ? 'active' : '' %>" aria-current="<%= index === 0 ? 'true' : '' %>" aria-label="Slide <%= index + 1 %>"></button>
        <% }) %>
      </div>
      <div class="carousel-inner">
        <% firstThree.forEach((post, index) => { %>
          <% if (post[1]) { %>
            <div class="carousel-item <%= index === 0 ? 'active' : '' %>">
              <a href="/posts/<%= post[1].id %>" class="text-white text-decoration-none">
                <div class="carousel-caption d-block">
                  <h4 class="carousel-title"><%= post[1].title.length >= 30 ? post[1].title.slice(0, 27) + "..." : post[1].title %></h5>
                  <h5 class="carousel-body"><%= post[1].body.length > 100 ? post[1].body.slice(0, 100) + "..." : post[1].body %></p>
                </div>
              </a>
              <img src="<%= post[1].img %>" class="d-block w-100" alt="...">
            </div>
          <% } %>
        <% }) %>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
  <%- include("partials/boot_script_cdn.ejs") %>
</body>
</html>


